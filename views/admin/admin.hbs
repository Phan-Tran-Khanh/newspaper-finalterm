<main class="container-fluid">
  <header class="position-relative w-100 p-3" style="z-index: 1001; padding: 0px !important;">
    <!-- Upper Header -->
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <!-- Brand Name -->
        <a href="../index.html" class="navbar-brand w-50 h-50 me-auto">
          <img class="w-50 h-50" src="../public/images/logo.png"></img>
        </a>

        <!-- Logged in Offcanvas Trigger -->
        <button class="navbar-toggler ms-3 border-light" type="button" data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasLoggedin" aria-controls="offcanvasLoggedin" id="user-btn">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>
    <!-- Upper Header -->
  </header>

  <!-- Logged in Offcanvas -->
  <div class="offcanvas offcanvas-end text-bg-dark w-25" data-bs-scroll="true" tabindex="-1" id="offcanvasLoggedin"
    aria-labelledby="offcanvasLoggedinLabel">
    <div class="offcanvas-header">
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="list-unstyled ms-3">
        <li class="mb-3">
          <a href="#" class="link-light" data-bs-toggle="modal" data-bs-target="#modalUserInformation">
            <img src="https://via.placeholder.com/50x50">
            <span>DongNike</span>
          </a>
        </li>
        <li class="mb-3">
          <a href="#footer" class="link-light">
            <i class="bi bi-people"></i> About us
          </a>
        </li>
        <li class="mb-3">
          <a href="#" class="link-light" id="logout-btn" data-bs-dismiss="modal" aria-label="Log out">
            <i class="bi bi-box-arrow-left"></i> Log out
          </a>
        </li>
      </ul>
    </div>
  </div>
  <!-- Logged in Offcanvas -->

  <!-- The Modal Edit Category -->
  <div id="modalEditCate" class="modal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>CATEGORY</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="update-cate" class="form-label">Category: </label>
              <input type="text" class="form-control" id="update-cate" value="Category#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Add Category -->
  <div id="modalAddCate" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>ADD CATEGORY</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="input-cate" class="form-label">Category: </label>
              <input type="text" class="form-control" id="input-cate" value="Category#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" id="add-category-btn" data-bs-dismiss="modal">Add</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Edit Tag -->
  <div id="modalEditTag" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>Tag</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="update-tag" class="form-label">Tag: </label>
              <input type="text" class="form-control" id="update-tag" value="Tag#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Add Tag -->
  <div id="modalAddTag" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>ADD Tag</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="input-tag" class="form-label">Tag: </label>
              <input type="text" class="form-control" id="input-tag" value="Tag#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" id="add-tag-btn" data-bs-dismiss="modal">Add</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Edit News -->
  <div id="modalEditNews" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>News</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="update-title" class="form-label">Title: </label>
              <input type="text" class="form-control" id="update-title" value="News#1">
            </div>
            <div class="col-md-6">
              <label for="update-abs" class="form-label">Abstract: </label>
              <input type="text" class="form-control" id="update-abs" value="News#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Add News -->
  <div id="modalAddNews" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>ADD News</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="input-news-title" class="form-label">Title: </label>
              <input type="text" class="form-control" id="input-news-title" value="News#1">
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" id="add-news-btn" data-bs-dismiss="modal">Add</button>
        </div>
      </div>
    </div>

  </div>
  <!-- The Modal Edit User -->
  <div id="modalEditUser" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>User</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="update-username" class="form-label">Username: </label>
              <input type="text" class="form-control" id="update-username" value="User#1">
            </div>
            <div class="col-md-6">
              <label for="update-permission" class="form-label">Permission: </label>
              <input type="text" class="form-control" id="update-permission" value="User#1">
            </div>

          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
        </div>
      </div>
    </div>

  </div>

  <!-- The Modal Add User -->
  <div id="modalAddUser" class="modal" tabindex="-1">

    <div class="modal-dialog modal-lg">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>ADD User</h5>
            </div>
            <hr class="border border-2 border-dark m-0">

            <div class="col-md-6">
              <label for="input-username" class="form-label">Username: </label>
              <input type="text" class="form-control" id="input-username" value="User#1">
            </div>
            <div class="col-md-6">
              <label for="input-permission" class="form-label">Permission: </label>
              <select id="input-permission" class="form-select" aria-label="Select an option">
                <option value="Subcriber">Subcriber</option>
                <option value="Editor">Editor</option>
                <option value="Writer">Writer</option>
              </select>
            </div>
          </form>
        </div>

        <div class="modal-footer justify-content-center p-0">
          <button type="submit" class="btn btn-primary" id="add-user-btn" data-bs-dismiss="modal">Add</button>
        </div>
      </div>
    </div>

  </div>


  <!-- Writer Info Modals -->
  <div class="modal fade" tabindex="-1" id="modalUserInformation">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header pb-0 border-bottom-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body mx-3 pt-0">
          <form class="row g-3">
            <div class="col-md-12">
              <h5>PERSONAL INFO</h5>
            </div>

            <hr class="border border-2 border-dark m-0">

            <!-- Full Name -->
            <div class="col-md-6">
              <label for="update-fullname" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="update-fullname" value="Lam Tran Kieu Minh">
            </div>
            <div class="col-md-6">
              <label for="update-penname" class="form-label">Pen Name</label>
              <input type="text" class="form-control" id="update-penname" value="MLam depchai">
            </div>

            <!-- Additional Info -->
            <div class="col-md-6">
              <label for="update-dob" class="form-label">Date of Birth</label>
              <input type="date" class="form-control" id="update-dob" value="2018-07-22" />
            </div>
            <div class="col-md-6">
              <label for="update-gender" class="form-label">Gender</label><br>
              <select class="form-select" id="update-gender">
                <option value="">Select your gender</option>
                <option value="female" selected>Female</option>
                <option value="male">Male</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="col-md-12">
              <h5>ACCOUNT INFO</h5>
            </div>

            <hr class="border border-2 border-dark m-0">

            <!-- Email Input -->
            <div class="col-12">
              <label for="update-email" class="form-label">Email Address</label>
              <input type="email" class="form-control" id="update-email" value="20120018@student.hcmus.edu.vn" disabled>
            </div>

            <div class="col-md-6">
              <label for="update-password" class="form-label">New Password</label>
              <input type="password" class="form-control" id="update-password" placeholder="Enter new password">
            </div>
            <div class="col-md-6">
              <label for="update-repassword" class="form-label">Re-password</label>
              <input type="password" class="form-control" id="update-repassword" placeholder="Re-enter new password">
            </div>
            <div class="modal-footer justify-content-center p-0">
              <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- Writer Info Modals -->


  <div class="Admin container-fluid" style="padding: 0px;">
    <!-- Main Sidebar Container -->
    <div id="a-sidebar" class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark">
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item" data-type="categories">
          <a href="#" class="nav-link active">
            <i class="bi bi-columns-gap"></i>
            Categories
          </a>
        </li>
        <li class="nav-item" data-type="tags">
          <a href="#" class="nav-link text-white">
            <i class="bi bi-tags"></i>
            Tags
          </a>
        </li>
        <li class="nav-item" data-type="news">
          <a href="#" class="nav-link text-white">
            <i class="bi bi-newspaper"></i>
            News
          </a>
        </li>
        <li class="nav-item" data-type="users">
          <a href="#" class="nav-link text-white">
            <i class="bi bi-people"></i>
            Users
          </a>
        </li>
      </ul>
    </div>

    <div class="nav-content">
      <div class="header h1">Category</div>
      <hr>
      <table class="table table-striped">
        <colgroup>
          <col span="1" style="width: 50%;">
          <col span="1" style="width: 20%;">
          <col span="1" style="width: 20%;">
          <col span="1" style="width: 5%;">
          <col span="1" style="width: 5%;">
        </colgroup>
        <thead class="table-dark">
          <tr>
            <th>Category</th>
            <th>No. editors</th>
            <th>No. news</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
          </tr>
        </thead>
        <tbody>          
          {{#each categories}}
          <tr>
            <td>{{name}}</td>
            <td>{{noEditor}}</td>
            <td>{{noNews}}</td>
            <td class="text-center btn-edit-cate"><i class="bi bi-pencil-square"></i></td>
            <td class="text-center btn-remove-cate"><i class="bi bi-trash3"></i></td>
          </tr>          
          {{/each}}
        </tbody>
      </table>
      <hr>
      <button type="button" class="btn btn-default" style="color:dodgerblue;"><i class="bi bi-plus"></i>Add</button>
    </div>
  </div>

  <script src="../../public/mock/admin.js"></script>
  <!-- <script src="../../public/js/admin.js"></script> -->
  <script >
    // Load screen
    // Action when load page:
    $(document).ready(function () {
      showCategories();
    });

    //Function: navigate pand
    $('body').on('click', '.nav-item', function () {
      let cur_nav = $(this).data('type');
      $('ul.nav > li.nav-item').each(function () {
        if ($(this).data('type') == cur_nav) {
          $(this).children('a').removeClass('text-white');
          $(this).children('a').addClass('active');
        } else {
          $(this).children('a').addClass('text-white');
          $(this).children('a').removeClass('active');
        }
      });
      switch (cur_nav) {
        case 'categories':
          showCategories();
          break;
        case 'tags':
          showTags();
          break;
        case 'news':
          showNews();
          break;
        case 'users':
          showUsers();
          break;
        default:
          break;
      }
    });

    function showCategories() {
      $('div.nav-content').empty();
      $('div.nav-content').append('<div class="header h1">CATEGORY</div><hr>');

      var table = $('<table id="cate-table" class="table table-striped"></table>');
      table.append(
        '<colgroup>\
                <col span="1" style="width: 50%;">\
                <col span="1" style="width: 20%;">\
                <col span="1" style="width: 20%;">\
                <col span="1" style="width: 5%;">\
                <col span="1" style="width: 5%;">\
            </colgroup>',
      );
      table.append(
        '<thead class="table-dark">\
                        <tr>\
                            <th>Tag</th>\
                            <th>No. editors</th>\
                            <th>No. news</th>\
                            <th>&nbsp;</th>\
                            <th>&nbsp;</th>\
                        </tr>\
                    </thead>',
      );

      var tbody = $('<tbody></tbody>');
      {{#each categories}}
        tbody.append(
          '<tr data-cate-id="'+ id +'">\
                <td>' + name + '</td>\
                <td>' + noEditors + '</td>\
                <td>' + noNews + '</td>\
                <td class="text-center btn-edit-cate"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditCate"><i class="bi bi-pencil-square"></i></a></td>\
                <td class="text-center btn-remove-cate"><a href="#"/><i class="bi bi-trash3"></i></td>\
            </tr>',
        );
      {{/each}}

        table.append(tbody);
        $('div.nav-content').append(table);

        $('div.nav-content').append('<button type="button" class="btn btn-default" style="color:dodgerblue;"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalAddCate"><i class="bi bi-plus"></i>Add</a></button>');

        $('div.nav-content').on('click', '.btn-remove-cate', function() {
            $(this).closest('tr').remove();
        });

        // Add event listener to the "Add" button
        $('#add-category-btn').on('click', function() {
            var itemInput = document.getElementById('input-cate');

            // Create a new row with the required HTML structure
            var newRow = '<tr>\
                            <td>' + itemInput.value +'</td>\
                            <td>0</td>\
                            <td>0</td>\
                            <td class="text-center btn-edit-cate"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditCate"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-cate"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            // Append the new row to the table body
            $('table#cate-table tbody').append(newRow);
            itemInput.value = '';
            // Close the modal
            $('#modalAddCate').modal('hide');
          });
    }

    function showTags() {
        $('div.nav-content').empty();
        $('div.nav-content').append('<div class="header h1">TAG</div><hr>');
        var table = $('<table id="tag-table" class="table table-striped"></table>');    
        var tbody = $('<tbody></tbody>');
        table.append('<colgroup>\
                        <col span="1" style="width: 50%;">\
                        <col span="1" style="width: 20%;">\
                        <col span="1" style="width: 20%;">\
                        <col span="1" style="width: 5%;">\
                        <col span="1" style="width: 5%;">\
                    </colgroup>');
        table.append('<thead class="table-dark">\
                        <tr>\
                            <th>Tag</th>\
                            <th>No. editors</th>\
                            <th>No. news</th>\
                            <th>&nbsp;</th>\
                            <th>&nbsp;</th>\
                        </tr>\
                    </thead>');

        {{#each labels}}  
            var row = $('<tr data-tag-id="'+id+'">\
                            <td>'+ name +'</td>\
                            <td>'+ noEditors +'</td>\
                            <td>'+ noNews +'</td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-tag"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>');
            tbody.append(row);
        {{/each}}

        table.append(tbody);
        $('div.nav-content').append(table);

        $('div.nav-content').append('<button type="button" class="btn btn-default" style="color:dodgerblue;"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalAddTag"><i class="bi bi-plus"></i>Add</a></button>');

        $('div.nav-content').on('click', '.btn-remove-tag', function() {
            $(this).closest('tr').remove();
        });

        // Add event listener to the "Add" button
        $('#add-tag-btn').on('click', function() {
            var itemInput = document.getElementById('input-tag');

            // Create a new row with the required HTML structure
            var newRow = '<tr>\
                            <td>' + itemInput.value +'</td>\
                            <td>0</td>\
                            <td>0</td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-tag"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            // Append the new row to the table body
            $('table#tag-table tbody').append(newRow);
            itemInput.value = '';
            // Close the modal
            $('#modalAddTag').modal('hide');
        });
    }

    function showNews() {
        $('div.nav-content').empty();
        $('div.nav-content').append('<div class="header h1">NEWS</div><hr>');

        let articalStatusForm = '<select class="form-select">'
        {{#each ArticleStatus}}
        articalStatusForm += '<option>' + {{this}} + '</option>'
        {{/each}}
        articalStatusForm += '</select>'

        var table = $('<table id="news-table" class="table table-striped"></table>');
        var tbody = $('<tbody></tbody>');

        table.append('<colgroup>\
                        <col span="1" style="width: 30%;">\
                        <col span="1" style="width: 25%;">\
                        <col span="1" style="width: 25%;">\
                        <col span="1" style="width: 10%;">\
                        <col span="1" style="width: 10%;">\
                    </colgroup>');
        table.append('<thead class="table-dark">\
                        <tr>\
                            <th>Title</th>\
                            <th>Views</th>\
                            <th>Status</th>\
                            <th>&nbsp;</th>\
                            <th>&nbsp;</th>\
                        </tr>\
                    </thead>');

        {{#each articles}}
            var row = $('<tr data-news-id="' + id + '">\
                            <td>'+ title +'</td>\
                            <td>'+ viewCount +'</td>\
                            <td>'+ articalStatusForm +'</td>\
                            <td class="text-center btn-edit-news"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditNews"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-news"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>');
            tbody.append(row);
        {{/each}}
        table.append(tbody);
        $('div.nav-content').append(table);
        $('div.nav-content').append('<button type="button" class="btn btn-default" style="color:dodgerblue;"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalAddNews"><i class="bi bi-plus"></i>Add</a></button>');
        
        $('div.nav-content').on('click', '.btn-remove-news', function() {
            $(this).closest('tr').remove();
        });

        // Add event listener to the "Add" button
        $('#add-news-btn').on('click', function() {
            var titleInput = document.getElementById('input-news-title');

            // Create a new row with the required HTML structure
            <!-- TODO: replace href call article -->
            var newRow = '<tr>\
                            <td><<a href="../article.html">' + titleInput.value +'</td>\ 
                            <td>0</td>\
                            <td>' + articalStatusForm + '</td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-new"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            // Append the new row to the table body
            $('table#news-table tbody').append(newRow);
            titleInput.value = '';
            absInput.value = '';
            // Close the modal
            $('#modalAddNews').modal('hide');

        });  
    }

    function showUsers() {
        $('div.nav-content').empty();
        $('div.nav-content').append('<div class="header h1">USERS</div><hr>');

        var table = $('<table id="user-table" class="table table-striped"></table>');
        var tbody = $('<tbody></tbody>');
        
        table.append('<colgroup>\
                        <col span="1" style="width: 23%;">\
                        <col span="1" style="width: 23%;">\
                        <col span="1" style="width: 23%;">\
                        <col span="1" style="width: 23%;">\
                        <col span="1" style="width: 4%;">\
                        <col span="1" style="width: 4%;">\
                    </colgroup>');
        table.append('<thead class="table-dark">\
                        <tr>\
                            <th>Username</th>\
                            <th>Permission</th>\
                            <th>Category</th>\
                            <th>Premium Duration</th>\
                            <th>&nbsp;</th>\
                            <th>&nbsp;</th>\
                        </tr>\
                    </thead>');

        {{#each user}}
            var rowValue = usersTable[i];
            var cateValue = '&nbsp;';
            // TODO replace compare user.role / Role[editor].id 
            if (role === 'Editor') {
                cateValue = '<select class="form-select">';
                {{#each category}}
                  cateValue += '<option value="' + {{id}} + '">' + {{name}} + '</option>';
                {{/each}}
                cateValue += '</select>';
            }

            var durationValue = '&nbsp;';
            // TODO replace compare user.role / Role[subcriber].id 
            if (role === 'Subcriber') {
                durationValue ='<div class="input-group date">\
                                    <input class="form-control" type="datetime-local" value="'+subcriptionExpiryDate+'">\
                                </div>';
            }


            var row = $('<tr data-user-id="'+id+'">\
                            <td>' + (firstName+lastName) + '</td>\
                            <td>'+role.name+'</td>\
                            <td>'+cateValue+'</td>\
                            <td>'+durationValue+'</td>\
                            <td class="text-center btn-edit-user"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditUser"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-user"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>');
            tbody.append(row);
        {{/each}}

        table.append(tbody);
        $('div.nav-content').append(table);
        $('div.nav-content').append('<button type="button" class="btn btn-default" style="color:dodgerblue;"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalAddUser"><i class="bi bi-plus"></i>Add</a></button>');

        $('div.nav-content').on('click', '.btn-remove-user', function() {
            $(this).closest('tr').remove();
        });

        // Add event listener to the "Add" button
        $('#add-user-btn').on('click', function() {
            var usernameInput = document.getElementById('input-username');
            var dropdown = document.getElementById('input-permission');
            var permissionInput = dropdown.options[dropdown.selectedIndex];            
    
            let articalStatusForm = '<select class="form-select">'
            {{#each ArticleStatus}}
            articalStatusForm += '<option>' + {{this}} + '</option>'
            {{/each}}
            articalStatusForm += '</select>'

            let cateValue = '<select class="form-select">';
            {{#each categories}}
              cateValue += '<option value="' + {{id}} + '">' + {{name}} + '</option>';
            {{/each}}
            cateValue += '</select>';


            var newRow;
            // Create a new row with the required HTML structure
            if (String(permissionInput.value) == 'Subcriber') {
                newRow = '<tr>\
                            <td><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalUserInformation">' + usernameInput.value +'</td>\
                            <td>' + permissionInput.value +'</td>\
                            <td></td>\
                            <td>' + articalStatusForm + '</td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-user"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            } else if (String(permissionInput.value) == 'Editor') {
                newRow = '<tr>\
                            <td><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalUserInformation">' + usernameInput.value +'</td>\
                            <td>' + permissionInput.value +'</td>\
                            <td>' + cateValue + '</td>\
                            <td></td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-user"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            } else if (String(permissionInput.value) == 'Writer'){
                newRow = '<tr>\
                            <td><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalUserInformation">' + usernameInput.value +'</td>\
                            <td>' + permissionInput.value +'</td>\
                            <td></td>\
                            <td></td>\
                            <td class="text-center btn-edit-tag"><a href="#" class="text-decoration-none" data-bs-toggle="modal" data-bs-target="#modalEditTag"><i class="bi bi-pencil-square"></i></a></td>\
                            <td class="text-center btn-remove-user"><a href="#"/><i class="bi bi-trash3"></i></td>\
                        </tr>';
            }
            // Append the new row to the table body
            $('table#user-table tbody').append(newRow);
            usernameInput.value = '';
            permissionInput.value = '';
            // Close the modal
            $('#modalAddUser').modal('hide');
        });  
    }
  </script>
</main>