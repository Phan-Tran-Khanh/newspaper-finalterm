<header class="sticky-top">
  <!-- Upper Header -->
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <!-- Brand Name -->
      <a href="/" class="navbar-brand w-50 h-50 me-auto">
        <img class="w-50 h-50" src="/images/logo.png"></img>
      </a>

      <!-- Search Bar -->
      <form class="d-flex" action="/search" method="get">
        <div class="input-group">
          <input class="form-control rounded-start border-end-0" name="queryString" type="search"
            placeholder="Search..." aria-label="Search">
          <button class="btn bg-white rounded-0 rounded-end border border-start-0" type="submit" title="Search">
            <i class="bi bi-search"></i>
          </button>
        </div>
      </form>

      <!-- Login/ Register Modals Trigger -->
      <a href="#" class="link-light ms-3" data-bs-toggle="modal" data-bs-target="#modalLoginRegister"
        id="anonymity-btn">
        <i class="bi bi-person-circle"></i>
        Log in
      </a>

      <!-- Logged in Offcanvas Trigger -->
      <button class="navbar-toggler ms-3 border-light" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasLoggedin" aria-controls="offcanvasLoggedin" id="user-btn">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>
  <!-- Upper Header -->

  <!-- Categories Navigation -->
  <nav class="navbar navbar-expand-sm navbar-light bg-light p-0">
    <div class="container-fluid">
      <div class="collapse navbar-collapse justify-content-between">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="bi bi-house-door"></i> Home
            </a>
          </li>
        </ul>
        {{#each categories}}
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link" href="/search?category={{slug}}" role="button">
              {{name}}
            </a>
            <div class="dropdown-menu">
              {{#each children}}
              <a class="dropdown-item" href="/search?category={{slug}}">{{name}}</a>
              {{/each}}
            </div>
          </li>
        </ul>
        {{/each}}
      </div>
    </div>
  </nav>
  <!-- Categories Navigation -->
</header>

<!-- Login/ Register Modals -->
<div class="modal fade" id="modalLoginRegister" tabindex="-1" aria-labelledby="" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header pb-0 border-bottom-0">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body mx-3 pt-0">
        <ul class="nav nav-tabs" id="login-register-tabs" role="tablist">
          <li class="nav-item flex-fill">
            <a class="nav-link active text-center" id="tab-login" data-toggle="tab" href="#login" role="tab"
              aria-controls="login" aria-selected="true">Login</a>
          </li>
          <li class="nav-item flex-fill">
            <a class="nav-link text-center" id="tab-register" data-toggle="tab" href="#register" role="tab"
              aria-controls="register" aria-selected="false">Register</a>
          </li>
        </ul>
        <div class="tab-content" id="login-register-tabs-content">
          <!-- Login Tab -->
          <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="tab-login">
            <form class="row g-3" method="post" action="/login">
              <!-- Email Input -->
              <div class="col-md-12">
                <label for="login-email" class="form-label">Email</label>
                <input type="email" class="form-control" name="email" id="login-email" placeholder="Enter email"
                  required>
              </div>

              <!-- Password Input -->
              <div class="col-md-12">
                <label for="login-password" class="form-label">Password</label>
                <input type="password" class="form-control" name="password" id="login-password"
                  placeholder="Enter password" required>
              </div>

              <!-- Checkbox RememberMe -->
              <div class="col-md-6">
                <div class="form-check mb-md-0">
                  <input class="form-check-input" name="rememberMe" type="checkbox" value="" id="login-check" checked />
                  <label class="form-check-label" for="loginCheck"> Remember me
                  </label>
                </div>
              </div>

              <!-- Forget Password Link -->
              <div class="col-md-6 d-flex justify-content-end">
                <a href="#!" data-bs-toggle="modal" data-bs-target="#modalForgetPassword">
                  Forgot password?</a>
              </div>

              <!-- Login Button -->
              <div class="d-grid">
                <button id="login-btn" type="submit" class="btn">Login</button>
              </div>

              <!-- Third-party Login -->
              <div class="text-center">
                <p class="text-muted">or</p>
                <p>Sign in with:</p>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-facebook"></i>
                </button>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-google"></i>
                </button>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-twitter"></i>
                </button>
              </div>
            </form>
          </div>

          <!-- Registration Tab -->
          <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="tab-register">
            <form class="row g-3" method="post">
              <!-- Full Name Input -->
              <div class="col-md-6">
                <label for="register-firstname" class="form-label">First Name</label>
                <input type="text" class="form-control" name="firstName" id="register-firstname"
                  placeholder="Enter first name" required>
              </div>
              <div class="col-md-6">
                <label for="register-lastname" class="form-label">Last Name</label>
                <input type="text" class="form-control" name="lastName" id="register-lastname"
                  placeholder="Enter last name" required>
              </div>

              <!-- DOB Input -->
              <div class="col-md-6">
                <label for="register-dob" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" name="dob" id="register-dob" required />
              </div>

              <!-- Gender Input -->
              <div class="col-md-6">
                <label for="register-gender" class="form-label">Gender</label><br>
                <select class="form-select" name="gender" id="register-gender" required>
                  <option value="">Select your gender</option>
                  <option value="female">Female</option>
                  <option value="male">Male</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <!-- Email Input -->
              <div class="col-md-12">
                <label for="register-email" class="form-label">Email Address</label>
                <input type="email" class="form-control" name="email" id="register-email" placeholder="Enter email"
                  required>
              </div>

              <!-- Password Input -->
              <div class="col-md-6">
                <label for="register-password" class="form-label">Password</label>
                <input type="password" class="form-control" name="password" id="register-password"
                  placeholder="Enter password" required>
              </div>
              <div class="col-md-6">
                <label for="register-repassword" class="form-label">Re-password</label>
                <input type="password" class="form-control" name="repassword" id="register-repassword"
                  placeholder="Re-enter password" required>
              </div>

              <!-- Register Button -->
              <div class="d-grid">
                <button id="register-btn" type="submit" class="btn">Register</button>
              </div>

              <!-- Third-party Sign up -->
              <div class="text-center mb-3">
                <p class="text-muted">or</p>
                <p>Sign up with:</p>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-facebook"></i>
                </button>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-google"></i>
                </button>

                <button type="button" class="btn btn-link btn-floating mx-1">
                  <i class="bi bi-twitter"></i>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Login/ Register Modals -->

<!-- Forget Password Modal -->
<div class="modal fade" id="modalForgetPassword" tabindex="-1" aria-labelledby="modalForgetPasswordLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalForgetPasswordLabel">Forget Password</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body mx-3">
        <p>Please enter your email address below and we'll send you a code to reset your
          password.</p>
        <form method="post">
          <div class="mb-3">
            <label for="forgetpw-email" class="form-label">Email Address</label>
            <input type="email" name="email" class="form-control" id="forgetpw-email" aria-describedby="emailHelp"
              placeholder="Enter your email" required>
            <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#modalResetCode">Send</button>
      </div>
    </div>
  </div>
</div>
<!-- Forget Password Modal -->

<!-- Reset Code Modal -->
<div class="modal fade" id="modalResetCode" tabindex="-1" aria-labelledby="modalResetCodeLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalResetCodeLabel">Confirm Reset Code</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body mx-3">
        <p>We just sent a code to {{email}}</p>
        <form>
          <div class="mb-3">
            <label for="forgetpw-code" class="form-label">Reset Code</label>
            <input type="email" class="form-control" id="forgetpw-code" aria-describedby="codeHelp"
              placeholder="Enter your reset code" required>
            <div id="codeHelp" class="form-text">Enter 6-digits number in your mailbox</div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
          data-bs-target="#modalForgetPassword">Back</button>
        <button type="button" class="btn" data-bs-dismiss="modal">Confirm</button>
      </div>
    </div>
  </div>
</div>
<!-- Reset Code Modal -->

<!-- User Info Modal -->
{{#with user}}
<div class="modal fade" tabindex="-1" id="modalUserInformation">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header pb-0 border-bottom-0">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body mx-3 pt-0">
        <form class="row g-3" method="post">
          <div class="col-md-12">
            <h5>PERSONAL INFO</h5>
          </div>

          <hr class="border border-2 border-dark m-0">

          <!-- Full Name -->
          {{#ifEquals role 'WRITER'}}
          <div class="col-md-6">
            <label for="update-fullname" class="form-label">Full Name</label>
            <input type="text" class="form-control" name="fullName" id="update-fullname"
              value="{{firstName}} {{lastName}}">
          </div>
          <div class="col-md-6">
            <label for="update-penname" class="form-label">Pen Name</label>
            <input type="text" class="form-control" name="penname" id="update-penname" value="{{penName}}">
          </div>
          {{else}}
          {{#ifEquals role 'EDITOR'}}
          <div class="col-md-6">
            <label for="update-fullname" class="form-label">Full Name</label>
            <input type="text" class="form-control" name="fullName" id="update-fullname"
              value="{{firstName}} {{lastName}}">
          </div>
          <div class="col-md-6">
            <label for="update-categoryname" class="form-label">Category Name</label>
            <input type="text" class="form-control" id="update-categoryname" value="{{category.name}}" disabled>
          </div>
          {{else}}
          <div class="col-md-6">
            <label for="update-firstname" class="form-label">First Name</label>
            <input type="text" class="form-control" name="firstName" id="update-firstname" value="{{firstName}}">
          </div>
          <div class="col-md-6">
            <label for="update-lastname" class="form-label">Last Name</label>
            <input type="text" class="form-control" name="lastName" id="update-lastname" value="{{lastName}}">
          </div>
          {{/ifEquals}}
          {{/ifEquals}}

          <!-- Additional Info -->
          <div class="col-md-6">
            <label for="update-dob" class="form-label">Date of Birth</label>
            <input type="date" class="form-control" name="dob" id="update-dob" value="{{dateOfBirth}}" />
          </div>
          <div class="col-md-6">
            <label for="update-gender" class="form-label">Gender</label><br>
            <select class="form-select" name="gender" id="update-gender">
              <option value="">Select your gender</option>
              <option value="female" {{#if gender 'f'}} selected {{/if}}>Female</option>
              <option value="male" {{#if gender 'm'}} selected {{/if}}>Male</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="col-md-12">
            <h5>ACCOUNT INFO</h5>
          </div>

          <hr class="border border-2 border-dark m-0">

          <!-- Email Input -->
          <div {{#ifEquals role 'SUBSCRIBER'}} class="col-md-6" {{else}} class="col-md-12" {{/ifEquals}}>
            <label for="update-email" class="form-label">Email Address</label>
            <input type="email" class="form-control" id="update-email" value="{{email}}" disabled>
          </div>

          {{#ifEquals role 'SUBSCRIBER'}}
          <!-- Premium Expiration -->
          <div class="col-md-6">
            <label for="update-premium" class="form-label">
              Premium Expiration
              <!-- Extend Premium Modal Trigger -->
              <a href="#" data-bs-toggle="modal" data-bs-target="#modalExtendPremium">
                <i class="bi bi-info-circle-fill"></i>
              </a>
            </label>
            <input type="date" class="form-control" id="update-premium" value="{{subscriptionExpiryDate}}" disabled />
          </div>
          {{/ifEquals}}

          <!-- Change Password -->
          <div class="col-md-6">
            <label for="update-password" class="form-label">New Password</label>
            <input type="password" class="form-control" name="password" id="update-password"
              placeholder="Enter new password">
          </div>
          <div class="col-md-6">
            <label for="update-repassword" class="form-label">Re-password</label>
            <input type="password" class="form-control" name="repassword" id="update-repassword"
              placeholder="Re-enter new password">
          </div>
          <div class="modal-footer justify-content-center p-0">
            <button type="submit" class="btn" data-bs-dismiss="modal" aria-label="Save changes">Save
              Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{{/with}}
<!-- User Info Modal -->

<!-- Extend Premium Modal -->
<div class="modal fade" id="modalExtendPremium" tabindex="-1" role="dialog" aria-labelledby="modalExtendPremiumLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalExtendPremiumLabel">Premium Subscription</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Tier 1: Basic -->
          <div class="col-md-4">
            <div class="card text-dark bg-light premium-tier">
              <div class="card-body">
                <h5 class="card-title">Basic</h5>
                <p class="card-text">1 Month</p>
                <h6 class="card-subtitle mb-2 text-muted">$9.99</h6>
                <ul class="card-text list-unstyled small text-muted">
                  <li>Quickly Set Up a Website</li>
                  <li>Live Preview</li>
                  <li>Support Limited</li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <a href="/payment" class="" target="_blank">Get started</a>
              </div>
            </div>
          </div>
          <!-- Tier 2: Standard -->
          <div class="col-md-4">
            <div class="card text-white bg-dark premium-tier">
              <div class="card-body">
                <h5 class="card-title">Standard</h5>
                <p class="card-text">3 Months</p>
                <h6 class="card-subtitle mb-2 text-muted">$24.99</h6>
                <ul class="card-text list-unstyled small text-muted">
                  <li>Online System</li>
                  <li>Free Apps</li>
                  <li>Full Access</li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <a href="/payment" class="" target="_blank">Get started</a>
              </div>
            </div>
          </div>
          <!-- Tier 3: Deluxe -->
          <div class="col-md-4">
            <div class="card text-dark bg-warning premium-tier">
              <div class="card-body">
                <h5 class="card-title">Deluxe</h5>
                <p class="card-text">6 Months</p>
                <h6 class="card-subtitle mb-2">$49.99</h6>
                <ul class="card-text list-unstyled small">
                  <li>Modern Design</li>
                  <li>Easy to Customize</li>
                  <li>24/7 Customer Support</li>
                </ul>
              </div>
              <div class="card-footer text-center">
                <a href="/payment" class="" target="_blank">Get started</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Extend Premium Modal -->

<!-- Logged in Sidebar -->
{{#with user}}
<div class="offcanvas offcanvas-end text-bg-dark w-25" data-bs-scroll="true" tabindex="-1" id="offcanvasLoggedin"
  aria-labelledby="offcanvasLoggedinLabel">
  <div class="offcanvas-header">
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled ms-3">
      <li class="mb-3">
        <a href="#" class="link-light" data-bs-toggle="modal" data-bs-target="#modalUserInformation">
          <img src="https://via.placeholder.com/50x50">
          <span>DongNike</span>
        </a>
      </li>
      {{#ifEquals role 'WRITER'}}
      <li class="mb-3">
        <a href="/writer/index" class="link-light">
          <i class="bi bi-newspaper"></i> Submit Article
        </a>
      </li>
      <li class="mb-3">
        <a href="/writer/list" class="link-light">
          <i class="bi bi-newspaper"></i> My Submitted Articles
        </a>
      </li>
      {{/ifEquals}}
      {{#ifEquals role 'EDITOR'}}
      {{/ifEquals}}
      {{#ifEquals role 'ADMIN'}}
      {{/ifEquals}}
      <li class="mb-3">
        <a href="#footer" class="link-light">
          <i class="bi bi-people"></i> About us
        </a>
      </li>
      <li class="mb-3">
        <a href="#" class="link-light" id="logout-btn" data-bs-dismiss="offcanvas" aria-label="Log out">
          <i class="bi bi-box-arrow-left"></i> Log out
        </a>
      </li>
    </ul>
  </div>
</div>
{{/with}}
<!-- Logged in Sidebar -->